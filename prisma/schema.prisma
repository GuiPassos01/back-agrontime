generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DEV_DATABASE_URL")
}

model Usuarios {
  idUsuario      Int        @id @default(autoincrement()) @map("id_usuario")
  nomeCompleto    String    @db.VarChar(100)
  documentoFiscal String    @map("documento_fiscal") @db.VarChar(100)
  email           String    @unique @db.VarChar(100)
  tipo            String    @db.VarChar(100)
  status          Boolean   @default(true)
  celular         String    @db.VarChar(100)
  genero          String    @db.VarChar(100)
  dataNascimento  DateTime  @map("data_nascimento")
  senha           String    @db.VarChar(100)
  createdAt       DateTime  @default(now()) @map("criado_em")

  EnderecoUsuario EnderecoUsuario?
  Fazendas        Fazenda[]
}

model EnderecoUsuario {
  idEndereco  Int      @id @default(autoincrement()) @map("id_endereco")
  idUsuario   Int      @unique
  cep         String   @db.VarChar(20)
  rua         String   @db.VarChar(100)
  numero      String   @db.VarChar(20)
  complemento String?  @db.VarChar(100)
  bairro      String   @db.VarChar(100)
  cidade      String   @db.VarChar(100)
  estado      String   @db.VarChar(100)
  Usuario     Usuarios @relation(fields: [idUsuario], references: [idUsuario])
}

model Fazenda {
  idFazenda        Int             @id @default(autoincrement()) @map("id_fazenda")
  idUsuario        Int
  nome             String          @db.VarChar(100)
  nirf             String          @db.VarChar(100)
  areaPropriedade  Float           @map("area_propriedade")
  qtdFuncionarios  Int             @map("qtd_funcionarios")
  EnderecoFazenda  EnderecoFazenda?
  Usuario          Usuarios        @relation(fields: [idUsuario], references: [idUsuario])
}

model EnderecoFazenda {
  idEndereco  Int      @id @default(autoincrement()) @map("id_endereco")
  idFazenda   Int      @unique
  cep         String   @db.VarChar(20)
  rua         String   @db.VarChar(100)
  numero      String   @db.VarChar(20)
  complemento String?  @db.VarChar(100)
  bairro      String   @db.VarChar(100)
  cidade      String   @db.VarChar(100)
  estado      String   @db.VarChar(100)
  Fazenda     Fazenda  @relation(fields: [idFazenda], references: [idFazenda])
}